<div class="details-container">
  <form *ngIf="(pokemon$ | async) as pokemon"
       [formGroup]="form"
       class="pokemon-details">
     <span *ngIf="pokemon.nationalPokedexNumber as pokedexNumber">
       #{{ pokedexNumber }}
     </span>
    <span>
      {{ pokemon.name }}
    </span>
    <img [src]="pokemon.imageUrlHiRes" [alt]="pokemon.name">

    <div class="pokemon-form-element">
      <label>Rarity</label>
      <input type="text" formControlName="rarity" class="pokemon-input">
    </div>

    <div class="pokemon-form-element">
      <label>Set name</label>
      <input type="text" formControlName="set" class="pokemon-input">
    </div>

    <div formArrayName="types" *ngIf="form.get('types') as formTypes">
      <div *ngFor="let item of formTypes.controls; let i = index" [formGroup]="item">
        <div class="pokemon-form-element">
          <label> {{ item.get('isMainType').value ? 'Main type' : 'Secondary type' }} </label>
          <select formControlName="type" class="pokemon-select">
            <option></option>
            <option *ngFor="let type of pokemonTypes$ | async"
                    [appSetColorsForPokemonType]="type"
                    [selected]="item.get('type').value === type">
              {{type}}
            </option>
          </select>
        </div>
      </div>
    </div>

    <button class="pokemon-btn" [disabled]="form.invalid"> Update Card </button>
  </form>

</div>


